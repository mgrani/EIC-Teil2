

\begin{exercise}{Filteroperationen}
\label{ex-de-mt-filter}
Gegeben ist folgendes 8-Bit Graustufenbild:
\[
\begin{pmatrix}
	0 & 0 & 0 & 0 & 0\\
	0 & 0 & 255 & 0 & 0\\
	0 & 0 & 255 & 255 & 255\\
	0 & 0 & 255 & 255 & 255\\
	0 & 0 & 255 & 255 & 255\\
\end{pmatrix}
\]


\answer{
Als Bild: 
\includegraphics[width=.1\textwidth]{figure/binary-image-2}
}


Wenden sie folgende Filter auf dieses Bild an:
\begin{itemize}
  \item $3\times 3$ Medianfilter
  
  
  \answer{
  \[
\begin{pmatrix}
	0 & 0 & 0 & 0 & 0\\
	0 & 0 & \mathbf{0} & 0 & 0\\
	0 & 0 & 255 & 255 & 255\\
	0 & 0 & 255 & 255 & 255\\
	0 & 0 & 255 & 255 & 255\\
\end{pmatrix}
\]
Als Bild:\\
\includegraphics[width=.1\textwidth]{figure/binary-image-median}
  }
  
  \item $3\times 3$- Boost Filter
  
    \answer{
 
 
 
    Boost-Filter:\\
    \[
    B^{neu}(x,y) = \begin{pmatrix}
    -1  & -1 & -1 \\
    -1 & 9   & -1 \\
    -1  & -1  & -1 \\
    \end{pmatrix}
    * N_8(x,y)
    \] 
    Bild nach Anwendung:
     \[
\begin{pmatrix}
	0 & -255   & -255  & -255   & 0\\
	0 & -2*255 & 7*255 & -4*255 & -3*255\\
	0 & -3*255 & 5*255 & 3*255 & 4*255\\
	0 & -3*255 & 4*255 & 255 & 255\\
	0 & -3*255 & 4*255 & 255 & 255\\
\end{pmatrix}
\]
Die Werte sind außerhalb des darstellbaren Bereichs. Es gibt zwei Möglichkeiten damit umzugehen:
\begin{itemize}
  \item Clipping:


\[
 B(x,y) = \begin{cases}
        0  & B(x,y)<0 \\
        255  & B(x,y)>255 \\
        B(x,y)  & sonst
        \end{cases}
\]

  \item Skalierung $B(x,y)=\frac{B(x,y)-B_{min}}{B_{max}-B_{min}}$
\end{itemize}
Unter Anwendung von Clipping ergibt sich:
  \[
\begin{pmatrix}
	0 & 0 & 0 & 0 & 0\\
	0 & 0 & 255 & 0 & 0\\
	0 & 0 & 255 & 255 & 255\\
	0 & 0 & 255 & 255 & 255\\
	0 & 0 & 255 & 255 & 255\\
\end{pmatrix}
\]

 }
  \item $3\times 3$- Laplace Filter (ohne 45° Geradendetektion, d.h. 4er Nachberschaft)
  
  \answer{
  Laplace-Filter:\\
    \[
    B^{neu}(x,y) = \begin{pmatrix}
    0  & -1 & 0 \\
    -1 & 4   & -1 \\
    0  & -1  & 0 \\
    \end{pmatrix}
    * N_8(x,y)
    \] 
    Bild nach Anwendung:
     \[
\begin{pmatrix}
	0 & 0    & -255  &  0     & 0\\
	0 & -255 & 3*255 & -2*255 & -255\\
	0 & -255 & 255   & 255    & 255\\
	0 & -255 & 255   & 0      & 0\\
	0 & -255 & 255   & 0      & 0\\
\end{pmatrix}
\]
Die Werte sind außerhalb des darstellbaren Bereichs
Unter Anwendung von Clipping ergibt sich:
  \[
\begin{pmatrix}
	0 & 0 & 0 & 0 & 0\\
	0 & 0 & 255 & 0 & 0\\
	0 & 0 & 255 & 255 & 255\\
	0 & 0 & 255 & 0 & 0\\
	0 & 0 & 255 & 0 & 0\\
\end{pmatrix}
\]
Als Bild:\\

\includegraphics[width=.1\textwidth]{figure/binary-image-laplace}
  }
  \item $3\times 3$- Gaussfilter
   \answer{
  Gauß-Filter:\\
    \[
    B^{neu}(x,y) = 1/16*\begin{pmatrix}
    1 & 2 & 1 \\
    2 & 4 & 2 \\
    1  & 2  & 1 \\
    \end{pmatrix}
    * N_8(x,y)
    \] 
    Bild nach Anwendung:
     \[
\begin{pmatrix}
	0 & 255/16   & 2/16*255   & 1/16*255 & 0\\
	0 & 3/16*255 & 7/16*255   & 6/16*255 & 0\\
	0 & 4/16*255 & 11/16*255  & 13/16*255   & 12/16*255\\
	0 & 4/16*255 & 12/16*255  & 16/16*255   & 16/16*255\\
	0 & 4/16*255 & 12/16*255  & 16/16*255   & 16/16*255\\
\end{pmatrix}
\]
Als Bild:
\includegraphics[width=.1\textwidth]{figure/binary-image-gauss}
  }
  \item (Optional, 1-Pkt.) Verwenden Sie ein beliebiges RGB Bild um in der Bildbearbeitungssoftware GIMP den Effekt der oben genannten Filter zu zeigen (Menüpunkt Filter, Generic, Convolution Matrix). Erläutern Sie die Effekte der Normalisierung sowie der Offset Funktion. 
\end{itemize}

Hinweis: Setzen sie das Bild an den Rändern einfach fort

\end{exercise}

